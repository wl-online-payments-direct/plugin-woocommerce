!function(){"use strict";var e={431:function(e){e.exports=function(e,r,t,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+e)?+e:0,i=isFinite(+r)?Math.abs(r):0,a=void 0===n?",":n,c=void 0===t?".":t,u="";return u=(i?function(e,r){if(-1===(""+e).indexOf("e"))return+(Math.round(e+"e+"+r)+"e-"+r);var t=(""+e).split("e"),n="";return+t[1]+r>0&&(n="+"),(+(Math.round(+t[0]+"e"+n+(+t[1]+r))+"e-"+r)).toFixed(r)}(o,i).toString():""+Math.round(o)).split("."),u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(u[1]||"").length<i&&(u[1]=u[1]||"",u[1]+=new Array(i-u[1].length+1).join("0")),u.join(c)}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}function n(e,r,t,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(n,o)}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,r)||function(e,r){if(e){if("string"==typeof e)return o(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};var a=window.regeneratorRuntime,c=t.n(a),u=window.React,s=window.wp.element,l=window.wp.htmlEntities,f=window.wp.i18n,p=t(431),d=t.n(p);var m=window.wp.deprecated,y=t.n(m);const h=function(e){let r;function t(e){if(e.priceFormat)return function(e){const r=document.createElement("DIV");return r.innerHTML=e,r.textContent||r.innerText||""}(e.priceFormat.toString());switch(e.symbolPosition){case"left":return"%1$s%2$s";case"right":return"%2$s%1$s";case"left_space":return"%1$s %2$s";case"right_space":return"%2$s %1$s"}return"%1$s%2$s"}function n(e){const n={code:"USD",symbol:"$",symbolPosition:"left",thousandSeparator:",",decimalSeparator:".",precision:2,...e};let o=n.precision;null===o?(console.warn("Currency precision is null"),o=NaN):"string"==typeof o&&(o=parseInt(o,10)),r={code:n.code.toString(),symbol:n.symbol.toString(),symbolPosition:n.symbolPosition.toString(),decimalSeparator:n.decimalSeparator.toString(),priceFormat:t(n),thousandSeparator:n.thousandSeparator.toString(),precision:o}}function o(e,t=!1){const n=function({precision:e=null,decimalSeparator:r=".",thousandSeparator:t=","},n){if(void 0===n)return"";if("number"!=typeof n&&(n=parseFloat(n)),isNaN(n))return"";let o=null===e?NaN:Number(e);if(isNaN(o)){const[,e]=n.toString().split(".");o=e?e.length:0}return d()(n,o,r,t)}(r,e);if(""===n)return n;const{priceFormat:o,symbol:i,code:a}=r;return(0,f.sprintf)(o,t?a:i,n)}return n(e),{getCurrencyConfig:()=>({...r}),getDataForCountry:function(e,r={},t={}){const n=r[e];if(!n)return{};const o=t[n.currency_code];return o?{code:n.currency_code,symbol:(0,l.decodeEntities)(o),symbolPosition:n.currency_pos,thousandSeparator:n.thousand_sep,decimalSeparator:n.decimal_sep,precision:n.num_decimals}:{}},setCurrency:n,formatAmount:o,formatCurrency:function(e){return y()("Currency().formatCurrency",{version:"5.0.0",alternative:"Currency().formatAmount",plugin:"WooCommerce",hint:"`formatAmount` accepts the same arguments as formatCurrency"}),o(e)},getPriceFormat:t,formatDecimal(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return 0;const{precision:t}=r;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},formatDecimalString(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return"";const{precision:t}=r;return e.toFixed(t)},render(e){return"number"!=typeof e&&(e=parseFloat(e)),e<0?(0,s.createElement)("span",{className:"is-negative"},o(e)):o(e)}}};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e){var r=function(e){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=g(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(r)?r:r+""}function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(t,!0).forEach((function(r){var n,o,i;n=e,o=r,i=t[r],(o=w(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}window.wp.hooks;var S={adminUrl:"",countries:[],currency:{code:"USD",precision:2,symbol:"$",symbolPosition:"left",decimalSeparator:".",priceFormat:"%1$s%2$s",thousandSeparator:","},defaultDateRange:"period=month&compare=previous_year",locale:{siteLocale:"en_US",userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},orderStatuses:[],siteTitle:"",wcAssetUrl:""},C=b({},S,{},"object"===("undefined"==typeof wcSharedSettings?"undefined":g(wcSharedSettings))?wcSharedSettings:{});C.currency=b({},S.currency,{},C.currency),C.locale=b({},S.locale,{},C.locale),C.adminUrl,C.countries,C.currency,C.locale,C.orderStatuses,C.siteTitle,C.wcAssetUrl,C.defaultDateRange;const _=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C.hasOwnProperty(e)?C[e]:r}("currency"),O=h(_);(0,s.createContext)(O);var j=h,P=window.ReactJSXRuntime;addEventListener("DOMContentLoaded",(function(){var e=function(e){var t=e.eventRegistration,o=e.emitResponse,a=e.billing,s=e.token,l=t.onPaymentSetup,f=o.responseTypes,p=i((0,u.useState)(0),2),d=p[0],m=p[1],y=i((0,u.useState)(!1),2),h=y[0],g=y[1],w=(0,u.useRef)(null);return(0,u.useEffect)((function(){g(!1);var e={hideCardholderName:!1,hideTokenFields:!1};return WlopHtConfig.surcharge&&(e.surchargeCallback=function(e){if(e.surcharge.success){var r=e.surcharge.result.surchargeAmount.amount;if(!Number.isInteger(r))return void console.error("Invalid surcharge amount received. "+r);m(r)}else console.error(e.surcharge.error)}),w.current=new Tokenizer(WlopHtConfig.url,WlopHtConfig.wrapper.id,e),w.current.initialize().then((function(){return g(!0)})),function(){try{g(!1),w.current.destroy()}catch(e){}}}),[]),(0,u.useEffect)((function(){var e=a.cartTotal.value/Math.pow(10,a.currency.minorUnit),r=Math.round(e*WlopHtConfig.currency.centFactor);w.current.setAmount(r,a.currency.code)}),[a.cartTotal.value,a.currency.code,a.currency.minorUnit]),(0,u.useEffect)((function(){if(h)if(s){var e=WlopHtConfig.tokens[s];w.current.useToken(e)}else w.current.useToken()}),[s,h]),(0,u.useEffect)((function(){return l((function(){function e(){var r;return r=c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.current.submitTokenization();case 2:if((r=e.sent).success){e.next=5;break}return e.abrupt("return",{type:f.ERROR,message:r.error.message});case 5:return t=r.hostedTokenizationId,e.abrupt("return",{type:f.SUCCESS,meta:{paymentMethodData:{wlop_hosted_tokenization_id:t,wlop_screen_height:window.screen.height.toString(),wlop_screen_width:window.screen.width.toString()}}});case 7:case"end":return e.stop()}}),e)})),e=function(){var e=this,t=arguments;return new Promise((function(o,i){var a=r.apply(e,t);function c(e){n(a,o,i,c,u,"next",e)}function u(e){n(a,o,i,c,u,"throw",e)}c(void 0)}))},e.apply(this,arguments)}return function(){return e.apply(this,arguments)}()}))}),[l,f]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{id:WlopHtConfig.wrapper.id,className:"wlop-ht-wrapper"}),(0,P.jsx)(r,{surcharge:d})]})},r=function(e){var r=e.surcharge;if(r<=0)return null;var t=j(wcSettings.currency).formatAmount(r/WlopHtConfig.currency.centFactor);return(0,P.jsx)("div",{className:"wlop-surcharge-note",children:(0,f.sprintf)(
/**
       * translators: %s the surcharge amount, like $0.23
       */
/**
       * translators: %s the surcharge amount, like $0.23
       */
(0,f.__)("Includes surcharge of %s","worldline-for-woocommerce"),t)})};wp.hooks.addFilter(WlopHtConfig.gateway.id+"_checkout_fields","wlop/ht/checkout",(function(r){return r.push(e),r})),wp.hooks.addFilter(WlopHtConfig.gateway.id+"_saved_token_fields","wlop/ht/checkout",(function(r){return r.push(e),r}))}))}();